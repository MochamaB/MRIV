# Material-Focused Management Dashboard Layout

## Dashboard Header Section
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       MATERIAL MANAGEMENT DASHBOARD                        â”‚
â”‚                         [Dynamic Title Based on Access]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Filters: [ğŸ“ Location] [ğŸ“‚ Category] [ğŸ“Š Status] [ğŸ’° Value] [ğŸ“… Period] [ğŸ”„] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Primary KPI Cards Row (4 Cards)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   TOTAL MATERIALSâ”‚  TOTAL VALUE     â”‚ AVAILABLE MATS â”‚ MAINT. ALERTS    â”‚
â”‚                  â”‚                  â”‚                  â”‚                  â”‚
â”‚   50       â”‚     â”‚     145          â”‚       12         â”‚
â”‚   â†—ï¸ +5.2%       â”‚   â†—ï¸ +5.2%      â”‚   ğŸ“¦ Ready       â”‚   âš ï¸ Urgent      â”‚
â”‚                  â”‚                  â”‚                  â”‚                  â”‚
â”‚ Widget: KPI Card â”‚ Widget: KPI Card â”‚ Widget: KPI Card â”‚ Widget: KPI Card â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Charts Row 1 (2 Charts)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        O            â”‚                                     â”‚
â”‚                                     â”‚         ğŸ“Š Doughnut Chart          â”‚
â”‚    ğŸ“Š Horizontal Bar Chart          â”‚                                     â”‚
â”‚                                     â”‚   â€¢ Available (45%)                â”‚
â”‚  HQ Office    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 120      â”‚   â€¢ Assigned (35%)                 â”‚
â”‚  Factory A    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 85           â”‚   â€¢ Maintenance (15%)              â”‚
â”‚  Region X     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 65             â”‚   â€¢ Retired (5%)                   â”‚
â”‚  Warehouse    â–ˆâ–ˆâ–ˆâ–ˆ 40               â”‚                                     â”‚
â”‚                                     â”‚                                     â”‚
â”‚ Widget: Bar Chart                   â”‚ Widget: Doughnut Chart             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Charts Row 2 (Materials by Category & Status Breakdown) - âœ… IMPLEMENTED
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     MATERIALS BY CATEGORY           â”‚       STATUS BREAKDOWN              â”‚
â”‚                                     â”‚                                     â”‚
â”‚    ğŸ“Š Vertical Bar Chart            â”‚    ğŸ© Donut Chart + Legend         â”‚
â”‚                                     â”‚                                     â”‚
â”‚  150â”¤     â–ˆâ–ˆâ–ˆ                       â”‚           45%                       â”‚
â”‚  100â”¤ â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆ     â–ˆâ–ˆâ–ˆ               â”‚      â—â”€â”€â”€â”€â”€â”€â”€â”€â—                     â”‚
â”‚   50â”¤ â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆ           â”‚    â—            â—                   â”‚
â”‚    0â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚  â—   Available    â—                 â”‚
â”‚     IT  Veh Furn Tool Safe          â”‚    â—            â—                   â”‚
â”‚                                     â”‚      â—â”€â”€â”€â”€â”€â”€â”€â”€â—                     â”‚
â”‚ ApexCharts: Vertical Bar            â”‚  ApexCharts: Donut                  â”‚
â”‚ - Project blue color                â”‚  - BadgeHelper colors               â”‚
â”‚ - Data labels on bars               â”‚  - Horizontal inline legend         â”‚
â”‚ - Tooltip with percentages          â”‚  - Count & percentage display       â”‚
â”‚                                     â”‚                                     â”‚
â”‚                                     â”‚ â— Available: 25 (45%)               â”‚
â”‚                                     â”‚ â— Assigned: 18 (32%)                â”‚
â”‚                                     â”‚ â— Under Maintenance: 8 (14%)        â”‚
â”‚                                     â”‚ â— Disposed: 5 (9%)                  â”‚
â”‚                                     â”‚                                     â”‚
â”‚ Widget: ApexCharts Bar              â”‚ Widget: ApexCharts Donut            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Implementation Status:**
- âœ… Backend: GetMaterialChartData endpoint with category/status grouping
- âœ… Frontend: ApexCharts with consistent project colors from BadgeHelper
- âœ… Filters: Charts update automatically with dashboard filters
- âœ… Responsive: Both charts have balanced heights and mobile-friendly design

## Row 3: Recent Activity & Material Insights (Proposed)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MATERIAL INSIGHTS (3/4 WIDTH)            â”‚  RECENT ACTIVITYâ”‚
â”‚                                                              â”‚   (1/4 WIDTH)   â”‚
â”‚  â”Œâ”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                 â”‚
â”‚  â”‚[Available][In Process][Expired Warranty][Lost][Overdue]â”‚ â”‚  ğŸ“‹ Last 5      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  Activities     â”‚
â”‚                                                              â”‚                 â”‚
â”‚  â”Œâ”€ Tab Content: Available Materials (Status = Available) â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Material ID   â”‚ Name        â”‚ Category â”‚ Location â”‚ Daysâ”‚ â”‚ â”‚18-Sepâ”‚Helmetâ”‚ â”‚
â”‚  â”‚MAT-001      â”‚ Dell Laptop â”‚ IT       â”‚ HQ      â”‚ 45  â”‚ â”‚ â”‚17-Sepâ”‚Laptopâ”‚ â”‚
â”‚  â”‚MAT-015      â”‚ Projector   â”‚ IT       â”‚ Trainingâ”‚ 120 â”‚ â”‚ â”‚16-Sepâ”‚Maint.â”‚ â”‚
â”‚  â”‚MAT-032      â”‚ Scanner     â”‚ Office   â”‚ Archive â”‚ 90  â”‚ â”‚ â”‚15-Sepâ”‚Returnâ”‚ â”‚
â”‚  â”‚MAT-048      â”‚ Chair       â”‚ Furnitureâ”‚ Store   â”‚ 15  â”‚ â”‚ â”‚14-Sepâ”‚Assignâ”‚ â”‚
â”‚  â”‚[Link: View Details] [Link: Assign] [Link: Transfer]   â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                 â”‚
â”‚                                                              â”‚  Widget:        â”‚
â”‚  Widget: Tabbed Material Tables                             â”‚  Activity List  â”‚
â”‚  - Available: MaterialStatus = 4 (Available)                â”‚  - Shows last 5 â”‚
â”‚  - In Process: MaterialStatus = 6 (InProcess)               â”‚  - Date, Item,  â”‚
â”‚  - Expired Warranty: WarrantyEndDate < Now                  â”‚    Action type  â”‚
â”‚  - Lost Items: MaterialStatus = 2 (LostOrStolen)            â”‚  - Links to     â”‚
â”‚  - Overdue Maintenance: NextMaintenanceDate < Now           â”‚    material     â”‚
â”‚  - Each table has links to /Material/Details/{id}           â”‚    details      â”‚
â”‚  - Action buttons for common operations                     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Implementation Details:**
- **Left Side (3/4 width)**: Tabbed Material Insights with data tables
- **Right Side (1/4 width)**: Recent Activity summary (similar to Management dashboard)
- **Data Source**: MaterialDashboard view filtered by tab criteria
- **Updates**: Tables refresh when filters change, activities every 30 seconds
- **Responsive**: Tabs stack vertically on mobile, recent activity moves below

**Material Insights Tab Definitions:**
1. **ğŸ“¦ Available** - Materials with Status = Available (MaterialStatus = 4)
2. **âš¡ In Process** - Materials with Status = InProcess (MaterialStatus = 6)
3. **âš ï¸ Expired Warranty** - Materials where WarrantyEndDate < Current Date
4. **âŒ Lost Items** - Materials with Status = LostOrStolen (MaterialStatus = 2)
5. **ğŸ”§ Overdue Maintenance** - Materials where NextMaintenanceDate < Current Date

**Tab Table Features:**
- **Sortable columns**: Material ID, Name, Category, Location, Days/Status
- **Action links**: View Details, Assign, Transfer, Schedule Maintenance
- **Pagination**: 10 items per page with search functionality
- **Links**: Each material name links to /Material/Details/{MaterialId}
- **Responsive**: Tables scroll horizontally on mobile devices

## Data Tables Section
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DETAILED MATERIAL ANALYTICS                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ Tab 1: ğŸ“‹ HIGH-VALUE MATERIAL TRACKING                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚Material ID â”‚ Name           â”‚ Value   â”‚ Location â”‚ Status    â”‚ Assigned â”‚ â”‚
â”‚ â”‚MAT-001     â”‚ Dell Laptop    â”‚ 85,000  â”‚ HQ IT    â”‚ Assigned  â”‚ J.Doe    â”‚ â”‚
â”‚ â”‚MAT-002     â”‚ Toyota Hilux   â”‚ 2.5M    â”‚ Field    â”‚ Available â”‚ -        â”‚ â”‚
â”‚ â”‚MAT-003     â”‚ Server Rack    â”‚ 150,000 â”‚ Data Ctr â”‚ Maint.    â”‚ -        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ Tab 2: ğŸ”§ MAINTENANCE SCHEDULE                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚Material      â”‚ Last Maint. â”‚ Next Due   â”‚ Status   â”‚ Location â”‚ Action  â”‚ â”‚
â”‚ â”‚Generator     â”‚ 15-Jan-25   â”‚ 15-Apr-25  â”‚ Overdue  â”‚ Factory  â”‚ Scheduleâ”‚ â”‚
â”‚ â”‚Forklift #2   â”‚ 01-Mar-25   â”‚ 01-Jun-25  â”‚ Due Soon â”‚ Warehouseâ”‚ Plan    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ Tab 3: ğŸ“¦ RECENT MATERIAL MOVEMENTS                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚Date       â”‚ Material       â”‚ From      â”‚ To        â”‚ Type     â”‚ Reason   â”‚ â”‚
â”‚ â”‚18-Sep-25  â”‚ Safety Helmet  â”‚ Warehouse â”‚ Site A    â”‚ Assign   â”‚ New Emp  â”‚ â”‚
â”‚ â”‚17-Sep-25  â”‚ Laptop #45     â”‚ IT Dept   â”‚ Finance   â”‚ Transfer â”‚ Realloc  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ Tab 4: ğŸ˜´ UNDERUTILIZED ASSETS                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚Material      â”‚ Days Idle â”‚ Location  â”‚ Value   â”‚ Suggestion â”‚ Action    â”‚ â”‚
â”‚ â”‚Projector #3  â”‚ 120       â”‚ Training  â”‚ 45,000  â”‚ Relocate   â”‚ Transfer  â”‚ â”‚
â”‚ â”‚Scanner #7    â”‚ 90        â”‚ Archive   â”‚ 25,000  â”‚ Reassign   â”‚ Available â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚ Widget: Tabbed Data Tables with Pagination & Search                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Action Items & Alerts Section
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ğŸš¨ ACTION REQUIRED                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ Priority Alerts:                                                           â”‚
â”‚ â€¢ ğŸ”´ 8 materials have overdue maintenance (Generator, Crane, etc.)         â”‚
â”‚ â€¢ ğŸŸ¡ 23 material warranties expiring within 30 days                        â”‚
â”‚ â€¢ ğŸŸ  5 high-value materials unassigned for >30 days                        â”‚
â”‚ â€¢ ğŸ”µ 12 materials ready for collection at warehouse                         â”‚
â”‚                                                                             â”‚
â”‚ Quick Actions: [Schedule Maintenance] [Assign Materials] [Transfer Assets]  â”‚
â”‚                                                                             â”‚
â”‚ Widget: Alert List with Action Buttons                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Material Intelligence Section (Optional - for Admin level)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ğŸ“Š MATERIAL INTELLIGENCE                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚   ROI ANALYSIS  â”‚ USAGE PATTERNS  â”‚ COST EFFICIENCY â”‚  OPTIMIZATION   â”‚   â”‚
â”‚ â”‚                 â”‚                 â”‚                 â”‚  OPPORTUNITIES  â”‚   â”‚
â”‚ â”‚ High ROI: 15    â”‚ Peak: 9-11 AM   â”‚ Cost/Day: 1,250 â”‚ Relocate: 5     â”‚   â”‚
â”‚ â”‚ Medium: 45      â”‚ Low: 2-4 PM     â”‚ Efficiency: 78% â”‚ Retire: 3       â”‚   â”‚
â”‚ â”‚ Low ROI: 8      â”‚ Pattern: Stable â”‚ Trend: â†—ï¸ +5%   â”‚ Acquire: 2      â”‚   â”‚
â”‚ â”‚                 â”‚                 â”‚                 â”‚                 â”‚   â”‚
â”‚ â”‚ Widget: Metric  â”‚ Widget: Metric  â”‚ Widget: Metric  â”‚ Widget: Action  â”‚   â”‚
â”‚ â”‚ Summary         â”‚ Summary         â”‚ Summary         â”‚ Recommendations â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚ Widget: Intelligence Cards (4-column layout)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Filter Panel Details (Collapsible Sidebar)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ” FILTERS    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚
â”‚ ğŸ“ LOCATION     â”‚
â”‚ â˜ All Access.  â”‚
â”‚ â˜‘ Head Office  â”‚
â”‚ â˜‘ Factory A    â”‚
â”‚ â˜ Region X     â”‚
â”‚ â˜ Warehouse    â”‚
â”‚                 â”‚
â”‚ ğŸ“‚ CATEGORY     â”‚
â”‚ â˜‘ IT Equipment â”‚
â”‚ â˜ Vehicles     â”‚
â”‚ â˜‘ Furniture    â”‚
â”‚ â˜ Tools        â”‚
â”‚                 â”‚
â”‚ ğŸ“Š STATUS       â”‚
â”‚ â˜‘ Available    â”‚
â”‚ â˜‘ Assigned     â”‚
â”‚ â˜ Maintenance  â”‚
â”‚ â˜ Retired      â”‚
â”‚                 â”‚
â”‚ ğŸ’° VALUE RANGE  â”‚
â”‚ Min: [50,000]   â”‚
â”‚ Max: [500,000]  â”‚
â”‚                 â”‚
â”‚ ğŸ“… TIME PERIOD  â”‚
â”‚ â—‹ Last 30 days â”‚
â”‚ â— Last 90 days â”‚
â”‚ â—‹ This Year    â”‚
â”‚ â—‹ Custom       â”‚
â”‚                 â”‚
â”‚ [Apply] [Reset] â”‚
â”‚                 â”‚
â”‚ Widget: Filter  â”‚
â”‚ Sidebar Panel   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Widget/Chart Summary by Type:

### **KPI Cards (4):**
1. Total Material Value - Metric card with trend
2. Available Materials - Count card with status
3. Utilization Rate - Percentage card with indicator
4. Maintenance Alerts - Alert count card

### **Charts (4):**
1. Material Distribution by Location - Horizontal Bar Chart
2. Status Breakdown - Doughnut Chart
3. Material Movement Trends - Multi-series Line Chart
4. Category Utilization - Horizontal Bar Chart (Heatmap style)

### **Status Cards (3):**
1. Warranty Status - Multi-status breakdown
2. Maintenance Due - Status indicators
3. High Value Tracking - Summary metrics

### **Data Tables (4 Tabs):**
1. High-Value Material Tracking - Sortable table
2. Maintenance Schedule - Action-oriented table
3. Recent Material Movements - Activity log
4. Underutilized Assets - Optimization table

### **Intelligence Cards (4 - Admin only):**
1. ROI Analysis - Performance metrics
2. Usage Patterns - Behavioral insights
3. Cost Efficiency - Financial metrics
4. Optimization Opportunities - Action recommendations

### **Interactive Elements:**
- Filter sidebar with multi-select options
- Action buttons for quick operations
- Tabbed data views with search/pagination
- Responsive layout adapting to screen size

This layout prioritizes **material asset management** over requisition processing, providing actionable insights for optimizing material utilization across the organization.

---

## Material Dashboard Implementation Plan

### Phase 1: Database Foundation
**Status: âœ… Complete**

1. **Model Analysis Complete**:
   - Material.cs: Status uses MaterialStatus enum (Available=4, Assigned=5, UnderMaintenance=1, LostOrStolen=2, Disposed=3, InProcess=6)
   - MaterialAssignment.cs: Uses AssignmentDate, RequisitionType enum for AssignmentType, StationId/DepartmentId (int?)
   - MaterialCondition.cs: Separate condition tracking with Condition, FunctionalStatus, CosmeticStatus enums

2. **Database Views Created**:
   - `vw_MaterialDashboard`: Main view leveraging existing LocationHierarchyView for cross-context data
   - `vw_MaterialUtilizationSummary`: Aggregated KPI metrics with station category grouping
   - `vw_MaterialMovementTrends`: 12-month movement analytics using existing views
   - **Key Architecture**: Uses `vw_LocationHierarchy` instead of direct table joins to solve cross-database context issues

### Phase 2: Backend Services Extension

1. **Create Business Logic Service** (`Services/MaterialBusinessLogicService.cs`):
   âœ… **Complete** - Handles all status calculations and business rules
   - Configurable business rules (warranty alerts, maintenance schedules, value thresholds)
   - Extensible enum handling - **zero hardcoded values in database views**
   - Raw data interpretation methods for summary statistics
   - Easy to modify business logic without database changes

2. **Extend IDashboardService** (`Services/IDashboardService.cs`):
   ```csharp
   // Add to existing interface
   Task<MaterialDashboardViewModel> GetMaterialDashboardAsync(HttpContext httpContext);
   Task<MaterialKPIViewModel> GetMaterialKPIsAsync(string? stationFilter = null, string? departmentFilter = null, string? categoryFilter = null);
   Task<List<MaterialChartDataViewModel>> GetMaterialDistributionDataAsync(string groupBy = "location");
   Task<List<MaterialMovementTrendViewModel>> GetMaterialMovementTrendsAsync(int months = 6);
   Task<List<MaterialAlertViewModel>> GetMaterialAlertsAsync();
   ```

3. **Implement in DashboardService** (`Services/DashboardService.cs`):
   - Use existing UserProfile and VisibilityService for role-based filtering
   - Leverage vw_MaterialDashboard view for raw data retrieval
   - Apply MaterialBusinessLogicService for all status calculations
   - Support filtering by visible stations/departments only

### Phase 3: ViewModels Creation

Create new ViewModels in `ViewModels/DashboardViewModel.cs`:

```csharp
public class MaterialDashboardViewModel
{
    public MaterialKPIViewModel KPIs { get; set; }
    public List<MaterialChartDataViewModel> LocationDistribution { get; set; }
    public List<MaterialChartDataViewModel> StatusBreakdown { get; set; }
    public List<MaterialMovementTrendViewModel> MovementTrends { get; set; }
    public List<MaterialTableDataViewModel> HighValueMaterials { get; set; }
    public List<MaterialTableDataViewModel> MaintenanceSchedule { get; set; }
    public List<MaterialMovementTableViewModel> RecentMovements { get; set; }
    public List<MaterialTableDataViewModel> UnderutilizedAssets { get; set; }
    public List<MaterialAlertViewModel> Alerts { get; set; }
    public MaterialFilterOptionsViewModel FilterOptions { get; set; }
    public UserProfileViewModel UserProfile { get; set; }
}

public class MaterialKPIViewModel
{
    public decimal TotalValue { get; set; }
    public string TotalValueFormatted { get; set; }
    public decimal ValueTrend { get; set; }
    public int AvailableMaterials { get; set; }
    public int TotalMaterials { get; set; }
    public decimal UtilizationRate { get; set; }
    public string UtilizationStatus { get; set; }
    public int MaintenanceAlerts { get; set; }
    public string AlertLevel { get; set; }
}

public class MaterialFilterOptionsViewModel
{
    public List<FilterOptionViewModel> Stations { get; set; }
    public List<FilterOptionViewModel> Departments { get; set; }
    public List<FilterOptionViewModel> Categories { get; set; }
    public List<FilterOptionViewModel> StatusOptions { get; set; }
}
```

### Phase 4: Controller Extension

Add to `Controllers/DashboardController.cs`:

```csharp
[Route("Dashboard/Material")]
public async Task<IActionResult> Material()
{
    try
    {
        var userProfile = await _userProfileService.GetUserProfileAsync(HttpContext);

        // Check if user can access material dashboard (same logic as Management)
        if (userProfile.RoleInformation.IsDefaultUser &&
            !userProfile.RoleInformation.CanAccessAcrossStations)
        {
            return View("AccessDenied");
        }

        var materialDashboard = await _dashboardService.GetMaterialDashboardAsync(HttpContext);
        return View(materialDashboard);
    }
    catch (Exception ex)
    {
        _logger.LogError(ex, "Error loading Material Dashboard");
        return View("Error");
    }
}

// API endpoints for filtering and real-time updates
[HttpGet("api/material-dashboard/kpis")]
public async Task<IActionResult> GetMaterialKPIs(string? station = null, string? department = null, string? category = null)
{
    var kpis = await _dashboardService.GetMaterialKPIsAsync(station, department, category);
    return Json(kpis);
}

[HttpGet("api/material-dashboard/charts/{chartType}")]
public async Task<IActionResult> GetMaterialChartData(string chartType, string? filters = null)
{
    var data = await _dashboardService.GetMaterialDistributionDataAsync(chartType);
    return Json(data);
}
```

### Phase 5: Frontend Implementation

1. **Create Material Dashboard View** (`Views/Dashboard/Material.cshtml`):
   - Use same layout structure as Management.cshtml
   - Implement the ASCII wireframe layout from above
   - Use existing Chart.js path: `~/vendors/chart.js/Chart.min.js`
   - Create MaterialDashboard JavaScript class for interactivity

2. **Add Sidebar Link** (`Views/Shared/_Sidebar.cshtml`):
   ```html
   <li class="nav-item">
       <a href="/Dashboard/Material" class="nav-link @(currentController == "Dashboard" && currentAction == "Material" ? "active" : "")" data-key="t-material-dashboard">Material Assets</a>
   </li>
   ```

3. **JavaScript Implementation**:
   - MaterialDashboard class with filter management
   - Real-time chart updates via API endpoints
   - Advanced filtering with multi-select dropdowns
   - Responsive layout for different screen sizes

### Phase 6: Key Features Implementation

1. **Advanced Filtering System**:
   - **Location-based filtering**: Uses `vw_LocationHierarchy` and `vw_StationDetails` for filter options
   - **Hierarchical filtering**: Station category â†’ Station â†’ Department cascade
   - **Cross-context support**: Leverages existing views that solve KTDALeave vs Requisition context issues
   - Category and subcategory filtering from MaterialCategories
   - Status-based filtering (Available, Assigned, Maintenance, etc.)
   - Value range filtering (Low, Medium, High value materials)
   - Time period filtering for trends

2. **Smart Data Analytics**:
   - Utilization scoring (0-100) based on movement frequency
   - ROI analysis for high-value assets
   - Maintenance scheduling optimization
   - Underutilization detection (idle assets >30 days)

3. **Actionable Insights**:
   - Maintenance alerts (overdue, due soon)
   - Warranty expiration warnings
   - Underutilized asset recommendations
   - High-value asset tracking

4. **Role-Based Access Control**:
   - Same UserProfile and VisibilityService integration
   - Admin: Full organizational view
   - Role Groups: Cross-station/department access based on permissions
   - Default Users: Own station/department materials only

### Technical Implementation Notes

1. **Database Performance**:
   - Use existing indexes on MaterialAssignments and Materials
   - Views are optimized with proper JOINs and CTEs
   - Consider adding specific indexes for dashboard queries

2. **Caching Strategy**:
   - Cache filter options (categories, stations, departments)
   - Cache KPI calculations for 5-10 minutes
   - Real-time updates only for alerts and movement data

3. **Error Handling**:
   - Graceful fallbacks for missing data
   - Proper error logging and user feedback
   - Access denied handling for unauthorized users

4. **Mobile Responsiveness**:
   - Collapsible filter sidebar
   - Stacked chart layout on mobile
   - Touch-friendly interactions
   - Optimized data tables with horizontal scroll

This implementation extends the existing dashboard infrastructure while focusing specifically on material asset management rather than requisition processing.

---

## Configuration Example (appsettings.json)

```json
{
  "MaterialRules": {
    "WarrantyAlertDays": 30,
    "MaintenanceAlertDays": 7,
    "UnderutilizedDays": 30,
    "HighValueThreshold": 100000,
    "MediumValueThreshold": 10000,
    "NewAssetMonths": 12,
    "ModerateAssetYears": 3
  }
}
```

## Key Benefits of New Architecture

### âœ… **Extensibility**
- **Zero hardcoded enum values** in database views - completely eliminated!
- Adding new MaterialStatus enum values requires no database changes
- Business rules are configurable via appsettings.json
- Easy to modify thresholds without code deployment
- Raw data approach allows unlimited business logic evolution

### âœ… **Maintainability**
- All business logic centralized in MaterialBusinessLogicService
- Database views contain only raw data - no hardcoded logic
- Clear separation of concerns

### âœ… **Testability**
- Business logic can be unit tested independently
- Configurable rules make testing different scenarios easy
- No database dependencies for business rule testing

### âœ… **Performance**
- Database views optimized for data retrieval only
- Business logic calculated in memory (faster than SQL CASE statements)
- Cacheable business rule configurations